{% extends "base.html" %}
{% block title %}
    My Medications
{% endblock %}
{% block nav %}
    {% include "includes/normalNavControls.html" %}
{% endblock %}
{% block navRight %}
    {% include "includes/userControls.html" %}
{% endblock %}
{% block content %}
    <div class="d-flex align-items-center mb-4">
        <span class="material-icons me-3" style="font-size: 60px">face</span>
        <div>
            <h1>My Profile</h1>
            <h6 class="m-0">{{ session["user"]["email"] }}</h6>
        </div>
    </div>
    <div class="row">
        {{ profileControls.profileControls(2) }}
        <div class="col-lg-9">
            <div class="d-flex align-items-center mb-4">
                <h2 class="h4 flex-grow-1 m-0">My Medications</h2>
            </div>

            <div id="Show_current_date" class="d-flex align-items-center">
                <a href="{{ url_for("medications.yesterdayMedications") }}"><button class="btn custom-btn">Yesterday</button></a>
                <p class="mx-3 mb-0">{{ now.strftime('%d/%m/%Y') - timedelta(days=int(1))}}</p>
                <a href="{{ url_for("medications.tommorrowMedications") }}"><button class="btn custom-btn">Tomorrow</button></a>
            </div>
            {% if morning|length > 0 %}
                <button type="button" class="collapsible">Morning</button>
                <table class="table table-striped w-100">
                    {% for trackers in morning %}
                        <tr>
                            <td>{{ trackers.getName() }}</td>
                        </tr>
                        <tr>
                            <td>{{ trackers.getNo_of_pills() }} pill(s)</td>
                        </tr>
                    {% endfor %}
                </table>
            {% endif %}

            {% if afternoon|length > 0 %}
                <button type="button" class="collapsible">Afternoon</button>
                {% for trackers in afternoon %}
                    <table class="table table-striped w-100">
                    <tbody>
                    <tr>
                        <td>{{ trackers.getName() }}</td>
                    </tr>
                    <tr>
                        <td>{{ trackers.getNo_of_pills() }} pill(s)</td>
                    </tr>
                    </tbody>
                {% endfor %}
            {% endif %}
            </table>

            {% if night|length > 0 %}
                <button type="button" class="collapsible">Night</button>
                {% for trackers in night %}
                    <table class="table table-striped w-100">
                    <tbody>
                    <tr>
                        <td>{{ trackers.getName() }}</td>
                    </tr>
                    <tr>
                        <td>{{ trackers.getNo_of_pills() }} pill(s)</td>
                    </tr>
                    </tbody>
                    </table>
                {% endfor %}
            {% endif %}
        </div>
    </div>

{% endblock %}
